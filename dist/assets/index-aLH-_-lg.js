(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();var R="1.1.9";function v(n,t,e){if(n===null&&(n="<null>"),n===void 0&&(n="<undefined>"),!(typeof n=="string"&&n.trim()==="")){var a=document.getElementById("logger");if(a){var o=document.createElement("div");o.classList.add("log-entry");var i=document.createElement("div");i.classList.add("log-time"),i.textContent=M();var c=document.createElement("div");if(c.classList.add("log-message"),typeof n=="object"){var u=P(n);c.appendChild(u)}else{var s=document.createElement("pre");Array.isArray(t)||(t=[t]),!e&&typeof e=="number"&&t.push("log-group-".concat(e)),t.forEach(function(r){typeof r=="string"&&r.trim()!==""&&s.classList.add(r.trim())}),s.textContent=n,c.appendChild(s)}o.appendChild(i),o.appendChild(c),a.appendChild(o)}}}function P(n){var t=document.createElement("table");if(t.classList.add("log-table"),Array.isArray(n)&&n.length>0){var e=document.createElement("tr"),a=Object.keys(n[0]);a.forEach(function(u){var s=document.createElement("th");s.textContent=u,s.classList.add("log-table-header"),e.appendChild(s)}),t.appendChild(e),n.forEach(function(u){var s=document.createElement("tr");a.forEach(function(r){var l=document.createElement("td"),h="";try{h=JSON.stringify(u[r])}catch(g){h="".concat(r,": ").concat(g)}l.textContent=typeof u[r]=="object"?h:u[r],l.classList.add("log-table-cell"),s.appendChild(l)}),t.appendChild(s)})}else if(typeof n=="object"){var o=document.createElement("tr"),i=document.createElement("th");i.textContent="Property",i.classList.add("log-table-header");var c=document.createElement("th");c.textContent="Value",c.classList.add("log-table-header"),o.appendChild(i),o.appendChild(c),t.appendChild(o),Object.keys(n).forEach(function(u){var s=document.createElement("tr"),r=document.createElement("td");r.textContent=u,r.classList.add("log-table-cell");var l=document.createElement("td"),h="";try{h=JSON.stringify(n[u],void 0,4)}catch(g){h="".concat(u,": ").concat(g)}l.textContent=typeof n[u]=="object"?h:n[u],l.classList.add("log-table-cell"),s.appendChild(r),s.appendChild(l),t.appendChild(s)})}return t}function x(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function q(n,t,e){var a=document.querySelector('pre[class*="tree-'.concat(t,'"]'));if(!a)return null;for(var o=a.querySelectorAll("span.highlight-".concat(e)),i=0,c=Array.from(o);i<c.length;i++){var u=c[i];if(typeof n=="string"&&u.textContent===n)return u;if(n instanceof RegExp&&u.textContent!==null&&n.test(u.textContent))return u}return null}function M(){var n=new Date;return n.toTimeString().split(" ")[0]}var I=function(){function n(t){t===void 0&&(t=!1),this.useLogger=t}return n.prototype.clear=function(){if(this.useLogger){var t=document.getElementById("logger");t&&(t.innerHTML=""),this.log("async-monitor.js$".concat(R))}},n.prototype.log=function(t,e){var a;typeof e=="number"&&(a=e,e=void 0),v(t,e||[],a)},n.prototype.warn=function(t,e){v(t,"log-warn",e)},n.prototype.error=function(t,e){v(t,"log-error",e)},n.prototype.group=function(t,e){v("".concat(t),"log-group",e)},n.prototype.table=function(t){v(t,"log-table")},n.prototype.highlight=function(t,e,a){a===void 0&&(a="start");var o=document.querySelector('pre[class*="tree-'.concat(e.id,'"]'));if(!o){this.warn("could not highlight tree-".concat(e.id,"."));return}if(Array.isArray(a)||(a=[a]),a.includes("start")){var i=void 0;typeof t=="string"?i=new RegExp(x(t),"gi"):i=new RegExp(t,"g");var c=o.innerHTML.replace(i,function(s){return'<span data-monitor-tree="'.concat(e.id,'" data-monitor-index="').concat(e.index,'" class="highlight-').concat(a.join(" highlight-"),'"><i class="fas fa-stop icon" onclick="interact();"></i>').concat(s,"</span>")});o.innerHTML=c}else{var u=q(t,e.id,"start");u&&(u.classList.remove("highlight-start"),u.classList.add("highlight-".concat(a)))}},n.prototype.clearHighlights=function(t){var e=document.querySelector('pre[class*="tree-'.concat(t,'"]'));e&&e.querySelectorAll("span").forEach(function(a){a.innerText==="completed"||a.classList.contains("highlight-repeat")||(a.outerHTML=a.innerHTML)})},n.prototype.displayRepeat=function(t,e,a){var o=document.querySelector('pre[class*="tree-'.concat(t,'"]'));if(o){var i=o.querySelector('span[class*="highlight-repeat"]');i&&(i.innerText=" ".repeat(1-e.toString().length+a.toString().length)+e.toString().concat("/").concat(a.toString()).concat(" "))}},n}(),f=new I;f.clear=function(){var n=document.getElementById("logger");n&&(n.innerHTML=""),f.log("async-monitor.js$".concat(R))};var D=function(n,t,e,a){function o(i){return i instanceof e?i:new e(function(c){c(i)})}return new(e||(e=Promise))(function(i,c){function u(l){try{r(a.next(l))}catch(h){c(h)}}function s(l){try{r(a.throw(l))}catch(h){c(h)}}function r(l){l.done?i(l.value):o(l.value).then(u,s)}r((a=a.apply(n,t||[])).next())})},F=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,o,i,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(r){return function(l){return s([r,l])}}function s(r){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,r[0]&&(e=0)),e;)try{if(a=1,o&&(i=r[0]&2?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[r[0]&2,i.value]),r[0]){case 0:case 1:i=r;break;case 4:return e.label++,{value:r[1],done:!1};case 5:e.label++,o=r[1],r=[0];continue;case 7:r=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(r[0]===6||r[0]===2)){e=0;continue}if(r[0]===3&&(!i||r[1]>i[0]&&r[1]<i[3])){e.label=r[1];break}if(r[0]===6&&e.label<i[1]){e.label=i[1],i=r;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(r);break}i[2]&&e.ops.pop(),e.trys.pop();continue}r=t.call(n,e)}catch(l){r=[6,l],o=0}finally{a=i=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};function C(){return D(this,arguments,void 0,function(n,t){return n===void 0&&(n=Math.random()*3),F(this,function(e){return t===void 0&&(t=n/3<.5),n=n*1e3,[2,new Promise(function(a,o){setTimeout(function(){t?o(n):a(n)},n)})]})})}var W=function(n,t,e,a){function o(i){return i instanceof e?i:new e(function(c){c(i)})}return new(e||(e=Promise))(function(i,c){function u(l){try{r(a.next(l))}catch(h){c(h)}}function s(l){try{r(a.throw(l))}catch(h){c(h)}}function r(l){l.done?i(l.value):o(l.value).then(u,s)}r((a=a.apply(n,t||[])).next())})},G=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,o,i,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(r){return function(l){return s([r,l])}}function s(r){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,r[0]&&(e=0)),e;)try{if(a=1,o&&(i=r[0]&2?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[r[0]&2,i.value]),r[0]){case 0:case 1:i=r;break;case 4:return e.label++,{value:r[1],done:!1};case 5:e.label++,o=r[1],r=[0];continue;case 7:r=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(r[0]===6||r[0]===2)){e=0;continue}if(r[0]===3&&(!i||r[1]>i[0]&&r[1]<i[3])){e.label=r[1];break}if(r[0]===6&&e.label<i[1]){e.label=i[1],i=r;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(r);break}i[2]&&e.ops.pop(),e.trys.pop();continue}r=t.call(n,e)}catch(l){r=[6,l],o=0}finally{a=i=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},H=function(){function n(t){this.functions=t}return n.prototype.settled=function(){return W(this,void 0,void 0,function(){var t;return G(this,function(e){switch(e.label){case 0:return[4,Promise.allSettled(this.functions)];case 1:return t=e.sent(),[2,{statusesPromise:t}]}})})},n}(),p=function(){return parseFloat(performance.now().toFixed(0))};function m(n,t){return parseFloat((t-n).toFixed(0))}var $=function(n,t,e,a){function o(i){return i instanceof e?i:new e(function(c){c(i)})}return new(e||(e=Promise))(function(i,c){function u(l){try{r(a.next(l))}catch(h){c(h)}}function s(l){try{r(a.throw(l))}catch(h){c(h)}}function r(l){l.done?i(l.value):o(l.value).then(u,s)}r((a=a.apply(n,t||[])).next())})},B=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,o,i,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(r){return function(l){return s([r,l])}}function s(r){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,r[0]&&(e=0)),e;)try{if(a=1,o&&(i=r[0]&2?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[r[0]&2,i.value]),r[0]){case 0:case 1:i=r;break;case 4:return e.label++,{value:r[1],done:!1};case 5:e.label++,o=r[1],r=[0];continue;case 7:r=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(r[0]===6||r[0]===2)){e=0;continue}if(r[0]===3&&(!i||r[1]>i[0]&&r[1]<i[3])){e.label=r[1];break}if(r[0]===6&&e.label<i[1]){e.label=i[1],i=r;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(r);break}i[2]&&e.ops.pop(),e.trys.pop();continue}r=t.call(n,e)}catch(l){r=[6,l],o=0}finally{a=i=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},U=function(){function n(t,e){var a=!1,o=t.map(function(c){return c.promise}),i=new H(o);return i.settled().then(function(c){for(var u=c.statusesPromise,s=0;s<u.length;s++)t[s].promiseStatus.status=u[s].status,t[s].promiseStatus.reason=u[s].status==="rejected"?u[s].reason:void 0,t[s].promiseStatus.value=u[s].status==="fulfilled"?u[s].value:void 0;a=u.some(function(r){return r.status==="rejected"})}).catch(function(c){f.useLogger&&f.warn("error:",c)}).finally(function(){if(a){var c=t[0];c.group&&typeof c.group.onRejectCallback=="function"&&c.group.onRejectCallback();return}else Array.isArray(e)||(e=[e]),Array.isArray(e)&&e.forEach(function(u){typeof u=="function"&&u()})})}return n}(),w=0;function J(n,t,e,a,o){return $(this,void 0,void 0,function(){return B(this,function(i){return n.functions.filter(function(c){return c.parent===void 0}).length<1?(f.error("Group must have exactly one root function (aka parent === undefined)!"),[2,new Promise(function(c,u){u()})]):[2,new Promise(function(c,u){T(n,void 0,c,u)})]})})}function T(n,t,e,a){var o=n.functions;n.useLogger;var i=o.filter(function(u){return u.parent===t});if(o.every(function(u){return u.isFinished})){if(n.stopTime=p(),n.options.repeat===0){typeof n.onCompleteCallback=="function"&&n.onCompleteCallback(),e&&e();return}else if(n.options.repeat>0){if(typeof n.onCompleteRunCallback=="function"&&n.onCompleteRunCallback(),n.options.repeat>n.options.runs)return n.options.runs++,n.reset(!1),T(n,void 0,e,a);typeof n.onCompleteCallback=="function"&&n.onCompleteCallback(),e&&e();return}}if(o.some(function(u){return u.isRejected})){f.useLogger&&f.warn("Some watches are rejected."),typeof n.onRejectCallback=="function"&&n.onRejectCallback(),a&&a();return}if(o.some(function(u){return u.isAborted})){f.useLogger&&f.warn("Some watches are aborted."),typeof n.onAbortCallback=="function"&&n.onAbortCallback(),a&&a();return}if(t===void 0){if(i.length===0)return;n.options.repeat>0&&typeof n.onStartRunCallback=="function"&&n.onStartRunCallback(),w=0}if(i.length>0){var c=i.map(function(u){return u.child}).filter(function(u,s,r){return r.indexOf(u)===s});c.forEach(function(u){w++,i.filter(function(s){return s.child===u}).forEach(function(s){if(s.sequence=w,f.highlight(s.name||"g:".concat(n.id,",c:").concat(s.id),{id:n.id,index:s.id},"start"),typeof s.onStartCallback=="function"&&s.onStartCallback(),typeof s.f=="function"){var r=s.f();r==null?f.useLogger&&f.warn("Function returned void"):typeof r.then=="function"?(s.promise=r,s.promise.then(function(){typeof s.onCompleteCallback=="function"&&s.onCompleteCallback(),f.highlight(s.name||"g:".concat(n.id,",c:").concat(s.id),{id:n.id},"complete")}),s.promise.catch(function(){typeof s.onRejectCallback=="function"&&s.onRejectCallback(),f.highlight(s.name||"g:".concat(n.id,",c:").concat(s.id),{id:n.id},"rejected"),f.highlight("completed",{id:n.id},"rejected"),a&&a()})):f.useLogger&&f.warn("Function did not return a promise")}})}),n.isFinished||c.forEach(function(u){var s=i.filter(function(r){return r.child===u}).map(function(r){var l;return r.promise=(l=r.promise)!==null&&l!==void 0?l:Promise.resolve(),r});new U(s,[function(){o.filter(function(r){return r.parent===t}).filter(function(r){return r.child===u}).map(function(r){return r.child}).filter(function(r,l,h){return h.indexOf(r)===l}).forEach(function(r){T(n,r,e,a)})}])})}}var N=function(){function n(t){t===void 0&&(t={});var e;this.map={},this.roots=[],this.consoleLogText="",this.repeatOptions={repeat:0,current:0},this.repeatOptions.repeat=(e=t.repeat)!==null&&e!==void 0?e:0}return n.prototype.buildTree=function(t){var e=this;return t.forEach(function(a){var o=a.parent,i=a.child,c=a.name;if(i!==void 0&&(e.map[i]?c&&!e.map[i].description.includes(c)&&(e.map[i].description+=", ".concat(c)):e.map[i]={name:i,description:c||String(i),children:[]}),o===void 0)i!==void 0&&(e.map[i]||(e.map[i]={name:i,description:c||String(i),children:[]}),e.roots.push(e.map[i]));else if(e.map[o]||(e.map[o]={name:o,description:String(o),children:[]}),i!==void 0){var u=e.map[o].children.find(function(s){return s.name===i});u||e.map[o].children.push(e.map[i])}else e.map[o].children.some(function(s){return s.description===c})||e.map[o].children.push({name:"",description:c||"",children:[]})}),this.roots},n.prototype.collectTerminalNodes=function(t,e){var a=this;return e===void 0&&(e=[]),t.children.length===0&&e.push(t),t.children.forEach(function(o){return a.collectTerminalNodes(o,e)}),e},n.prototype.calculateMaxLength=function(t,e,a,o,i,c){var u=this;e===void 0&&(e=""),a===void 0&&(a=!0),o===void 0&&(o=!0),i===void 0&&(i=!0),c===void 0&&(c={maxLength:0});var s=" ",r="─";this.repeatOptions.repeat!=0&&(s=" │",r=a?o?"┬─":"┼─":"─");var l="".concat(a?"─"+r+"─":s+e+(i&&!a?"└─":"├─")," ").concat(t.description);l.length>c.maxLength&&(c.maxLength=l.length);var h=e+(i?"    ":" │  ");t.children.forEach(function(g,d){var b=d===t.children.length-1;u.calculateMaxLength(g,h,!1,o,b,c)})},n.prototype.displayTreeWithLineLength=function(t,e,a,o,i,c,u,s){var r=this;e===void 0&&(e=""),a===void 0&&(a=!0),o===void 0&&(o=!1),i===void 0&&(i=!0);var l=t.children.length===0,h=" ",g="─",d="";this.repeatOptions.repeat!=0&&(h=" │",g=a?o?"┬─":"┼─":"─");var b="".concat(a?"─"+g+"─":h+e+(i&&!a?"└─":"├─")," ").concat(t.description);if(l){var y=c.current++;d=y===0?"─┐":"─┤";var _=u-(b.length+d.length);_>0&&(b+="─".repeat(_+1)),b+="─"+d,s.value=!0}else{var _=u-b.length;_>0&&(b+=" ".repeat(_+1)),s.value&&(b+="│")}this.consoleLogText+=b.trimEnd()+`\r
`;var A=e+(i?"   ":"│  ");t.children.forEach(function(E,O){var S=O===t.children.length-1;r.displayTreeWithLineLength(E,A,!1,o,S,c,u,s)})},n.prototype.processTree=function(t){var e=this;if(t.length===0){debugger;return"<empty tree>"}var a=this.buildTree(t),o={maxLength:0};a.forEach(function(r){return e.calculateMaxLength(r,"",!0,!1,!0,o)});var i=[];a.forEach(function(r){return e.collectTerminalNodes(r,i)});var c={current:0,total:i.length},u={value:!1};if(a.forEach(function(r,l){return e.displayTreeWithLineLength(r,"",!0,l===0,!0,c,o.maxLength,u)}),this.repeatOptions.repeat!=0){var s=this.repeatOptions.repeat==-1?" ∞ ":" ".repeat(String(this.repeatOptions.repeat).length)+"1/"+this.repeatOptions.repeat+" ";this.consoleLogText+=" └"+s+"─".repeat(Math.max(1,o.maxLength-s.length-1))+`┤\r
`}return this.consoleLogText+=" ".repeat(o.maxLength+1)+"└─ completed",this.consoleLogText},n}(),j=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),k=function(){function n(t,e,a,o,i,c,u,s,r){var l=this;this._id=j.nextId(),this._isAborted=!1,this._isFinished=!1,this._isRejected=!1,this._isRunning=!1,this._startTime=0,this._stopTime=0,this._duration=0,this.abortController=new AbortController,this.abort=function(){return l.abortController.abort()},this.signal=this.abortController.signal,this.sequence=0,this.reset=function(){l._isAborted=!1,l._isFinished=!1,l._isRejected=!1,l._isRunning=!1,l._startTime=0,l._stopTime=0,l._duration=0,l.sequence=0,l.abortController=new AbortController,l.signal=l.abortController.signal,l.abort=function(){return l.abortController.abort()}},this.promiseStatus={status:"not started",reason:void 0,value:void 0},typeof t=="object"?(this.f=function(){var d=t.f();return d instanceof Promise?d:Promise.resolve(d)},this.name=t.name,this.parent=t.parent,this.child=t.child,this.onStartCallback=function(){this._isRunning=!0,this._startTime=p(),f.useLogger&&f.log('──"'.concat(this.name,'" has started.')),t.onStartCallback&&t.onStartCallback()},this.onCompleteCallback=function(){this._isFinished=!0,this._isRunning=!1,this._stopTime=p(),this._duration=m(this._startTime,this._stopTime),f.useLogger&&f.log('──"'.concat(this.name,'" has completed.')),t.onCompleteCallback&&t.onCompleteCallback()},this.onRejectCallback=function(){this._isAborted||(this._isRejected=!0,this._isRunning=!1,this._stopTime=p(),this._duration=m(this._startTime,this._stopTime),f.useLogger&&f.warn('──"'.concat(this.name,'" was rejected.')),t.onRejectCallback&&t.onRejectCallback())},this.onAbortCallback=function(){this._isFinished||(this._isAborted||(t.onAbortCallback&&t.onAbortCallback(),this.group.onAbortCallback&&this.group.onAbortCallback()),this._isAborted=!0,this._isRunning=!1,this._stopTime=p(),this._duration=m(this._startTime,this._stopTime),f.useLogger&&f.warn('──"'.concat(this.name,'" was aborted.')))}):(this.f=function(){var d=t();return d instanceof Promise?d:Promise.resolve(d)},this.name=e,this.parent=a,this.child=o,i&&(this.onStartCallback=function(){this._isRunning=!0,this._startTime=p(),f.useLogger&&f.log('"'.concat(this.name,'" has started.')),i()}),c&&(this.onCompleteCallback=function(){this._isFinished=!0,this._isRunning=!1,this._stopTime=p(),this._duration=m(this._startTime,this._stopTime),f.useLogger&&f.log('"'.concat(this.name,'" has completed.')),c()}),u&&(this.onRejectCallback=function(){this._isRejected=!0,this._isRunning=!1,this._stopTime=p(),this._duration=m(this._startTime,this._stopTime),f.useLogger&&f.warn('"'.concat(this.name,'" was rejected.')),u()}),s&&(this.onAbortCallback=function(){this._isFinished||(this._isAborted=!0,this._isRunning=!1,this._stopTime=p(),this._duration=m(this._startTime,this._stopTime),f.useLogger&&f.warn('"'.concat(this.name,'" was aborted d.')),h.onAbortCallback&&h.onAbortCallback())}));var h=this,g=this.f;this.f=function(){return new Promise(function(d,b){h.signal.addEventListener("abort",function(){h._isRunning&&(h.onAbortCallback&&h.onAbortCallback(),b("manually aborted."))});var y=g();y instanceof Promise?y.then(d).catch(b):d(y)})}}return Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAborted",{get:function(){return this._isAborted},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isFinished",{get:function(){return this._isFinished},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRejected",{get:function(){return this._isRejected},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isProcessed",{get:function(){return this._isFinished||this._isRejected||this._isAborted},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"startTime",{get:function(){return this._startTime},set:function(t){this._startTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopTime",{get:function(){return this._stopTime},set:function(t){this._stopTime=t,this._duration=m(this._startTime,this._stopTime)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"duration",{get:function(){return Math.min(0,this._duration)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metrics",{get:function(){return{id:this._id,name:this.name||"",start:Math.max(0,this.group?this._startTime-this.group.startTime:0),duration:this._duration,status:this.promiseStatus.status,value:this.promiseStatus.value,reason:this.promiseStatus.reason,isRunning:this._isRunning,isFinished:this._isFinished,isRejected:this._isRejected,isAborted:this._isAborted,sequence:this.sequence}},enumerable:!1,configurable:!0}),n}(),z=function(n){var t=n.toString().length;return new RegExp("\\s{".concat(t,"}1\\/").concat(n,"\\s"))},Q=function(){function n(t){var e=this;this.options={repeat:0,runs:0},this._id=j.nextId(),this._functions=[],this._startTime=0,this._stopTime=0,this._duration=0,this._onStartCallback=function(){},this._onStartRunCallback=function(){},this._onCompleteCallback=function(){},this._onCompleteRunCallback=function(){},this._onRejectCallback=function(){},this._onRejectRunCallback=function(){},this._onAbortCallback=function(){},this._onAbortRunCallback=function(){},this.sequence=0,this._onErrorCallback=function(){},this.addWatch=function(a){var o;typeof a=="function"?(o=new k({f:a,name:"watch-function-".concat(e.sequence+1),parent:e.sequence===0?void 0:"_monitor_".concat(e.sequence),child:"_monitor_".concat(e.sequence+1),onStartCallback:function(){},onCompleteCallback:function(){},onRejectCallback:function(){},onAbortCallback:function(){}}),e.sequence++):o=new k(a),o.group=e,e._functions.push(o)},L.push(this)}return Object.defineProperty(n.prototype,"run",{get:function(){return this.options.repeat>=0?this.options.runs:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"useLogger",{get:function(){return f.useLogger},set:function(t){f.useLogger=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"functions",{get:function(){return this._functions},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRunning",{get:function(){return this._functions.some(function(t){return t.isRunning})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isFinished",{get:function(){return this._functions.every(function(t){return t.isFinished})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRejected",{get:function(){return this._functions.some(function(t){return t.isRejected})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAborted",{get:function(){return this._functions.some(function(t){return t.isAborted})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isProcessed",{get:function(){return this.isFinished||this.isRejected||this.isAborted},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"startTime",{get:function(){return this._startTime},set:function(t){this._startTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopTime",{get:function(){return this._stopTime},set:function(t){this._stopTime=t,this._duration=m(this._startTime,this._stopTime)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"duration",{get:function(){return Math.min(0,this._duration)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onStartCallback",{get:function(){var t=this;return function(){var e;t.startTime=p(),t.options.repeat>0&&(t.options.runs=1),t.useLogger&&f.log('*** START "'.concat((e=t.name)!==null&&e!==void 0?e:"Group#"+t.id,'" ***')),f.highlight("completed",{id:t._id},"start"),f.highlight(z(t.options.repeat),{id:t._id},["start","repeat"]),t._onStartCallback()}},set:function(t){typeof t=="function"&&(this._onStartCallback=t.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onStartRunCallback",{get:function(){var t=this;return function(){t.isRunning||(t.useLogger&&f.log('*** RUN "'.concat(t.run,'" STARTED ***')),t._onStartRunCallback())}},set:function(t){typeof t=="function"&&(this._onStartRunCallback=t.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onCompleteCallback",{get:function(){var t=this;return function(){var e;t._onCompleteCallback(),t.stopTime=p(),t.useLogger&&f.log('*** COMPLETED "'.concat((e=t.name)!==null&&e!==void 0?e:"Group#"+t.id,'" ***')),f.highlight("completed",{id:t._id},"complete"),f.highlight(" "+t.options.repeat+"/"+t.options.repeat+" ",{id:t._id},["complete"])}},set:function(t){typeof t=="function"&&(this._onCompleteCallback=t.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onCompleteRunCallback",{get:function(){var t=this;return function(){t.useLogger&&f.log('*** RUN "'.concat(t.run,'" COMPLETED ***')),t._onCompleteRunCallback()}},set:function(t){typeof t=="function"&&(this._onCompleteRunCallback=t.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onRejectCallback",{get:function(){var t=this;return function(){var e,a;t.stopTime=p(),t.useLogger&&(f.log('*** REJECTED "'.concat((e=t.name)!==null&&e!==void 0?e:"Group#"+t.id,'" ***')),f.log(t.metrics)),f.highlight("completed",{id:t._id,index:t.sequence},"complete"),(a=t._onRejectCallback)===null||a===void 0||a.call(t)}},set:function(t){typeof t=="function"&&(this._onRejectCallback=t.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onRejectRunCallback",{get:function(){var t=this;return function(){var e;t.stopTime=p(),t.useLogger&&(f.log('*** REJECTED RUN "'.concat(t.run,'" ***')),f.log(t.metrics)),f.highlight("completed",{id:t._id,index:t.sequence},"complete"),(e=t._onRejectRunCallback)===null||e===void 0||e.call(t)}},set:function(t){typeof t=="function"&&(this._onRejectRunCallback=t.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onAbortCallback",{get:function(){var t=this;return function(){var e;t.stopTime=p(),!t.isAborted&&(t.useLogger&&f.log('*** ABORTED GROUP "'.concat((e=t.name)!==null&&e!==void 0?e:"Group#"+t.id,'" ***')),f.highlight("completed",{id:t._id},"aborted"),typeof t._onAbortCallback=="function"&&t._onAbortCallback())}},set:function(t){typeof t=="function"&&(this._onAbortCallback=t.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onAbortRunCallback",{get:function(){var t=this;return function(){var e;t.stopTime=p(),t.useLogger&&f.log('*** ABORTED RUN "'.concat(t.run,'" ***')),f.highlight("completed",{id:t._id},"aborted"),(e=t._onAbortRunCallback)===null||e===void 0||e.call(t)}},set:function(t){typeof t=="function"&&(this._onAbortRunCallback=t.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onErrorCallback",{get:function(){var t=this;return function(){t.useLogger&&f.log('*** ERROR in group "'.concat(t.name||t._id,'" ***')),t._onErrorCallback()}},set:function(t){typeof t=="function"&&(this._onErrorCallback=t)},enumerable:!1,configurable:!0}),n.prototype.abortWatch=function(t){var e=this._functions.find(function(a){return a.name===t});e?e.abort():f.useLogger&&f.warn('+++ No watch function found with name "'.concat(t,'"'))},n.prototype.abort=function(){this._functions.forEach(function(t){t.abort()})},n.prototype.reset=function(t){t===void 0&&(t=!0),this.startTime=0,this.stopTime=0,this._functions.forEach(function(e){return e.reset()}),t&&(this.options.runs=1),f.displayRepeat(this._id,this.options.runs||0,this.options.repeat),f.clearHighlights(this._id)},n.prototype.getAll=function(){return this._functions},n.prototype.removeAll=function(){this._functions=[]},n.prototype.add=function(){},n.prototype.remove=function(){},n.prototype.watchAll=function(){return this.functions.length===0?(f.useLogger&&f.warn("No watch functions found in this group."),new Promise(function(t,e){e("No watch functions found in this group.")})):this.isProcessed?(f.useLogger&&f.warn("This watchAll group has already been processed."),new Promise(function(t,e){e("This watchAll group has already been processed.")})):this.isRunning?(f.useLogger&&f.warn("This watchAll group is already being monitored."),new Promise(function(t,e){e("This watchAll group is already being monitored.")})):(this.startTime=p(),typeof this.onStartCallback=="function"&&this.onStartCallback(),J(this))},Object.defineProperty(n.prototype,"loggerTree",{get:function(){var t=this._functions.map(function(a){return{name:a.name,parent:a.parent,child:a.child}}),e=new N({repeat:this.options.repeat});return e.processTree(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metrics",{get:function(){return this._functions.map(function(t){return t.metrics})},enumerable:!1,configurable:!0}),n}(),L=[];window.asyncMonitor=L;function X(){const n=new Q({repeat:0});n.addWatch(()=>C(void 0,!1)),n.addWatch(()=>C(void 0,!1)),n.addWatch(()=>C(void 0,!1)),n.addWatch(()=>C(void 0,!1)),f.log(n.loggerTree,["tree",`tree-${n.id}`]),n.watchAll()}document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("app");n&&(n.innerHTML="<h1>Hello, TypeScript Web App!</h1>")});X();
